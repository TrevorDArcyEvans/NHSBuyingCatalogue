var a4_0x3ea9=['invalid_token','invalid\x20credentials\x20provided','now','Router','get','/interaction/:grant','/interaction/:grant/confirm','post','/interaction/:grant/login','express','assert','http-errors','body-parser','urlencoded','exports','prefix','env','PATH_PREFIX','interaction','reason','client_not_authorized','render','interactionFinished','body','email','email\x20must\x20be\x20provided','password'];(function(_0x10e465,_0x622ee3){var _0x3a4f3a=function(_0x462484){while(--_0x462484){_0x10e465['push'](_0x10e465['shift']());}};_0x3a4f3a(++_0x622ee3);}(a4_0x3ea9,0xfc));var a4_0x5ceb=function(_0x57a320,_0x11a0dd){_0x57a320=_0x57a320-0x0;var _0x1f0bd0=a4_0x3ea9[_0x57a320];return _0x1f0bd0;};const express=require(a4_0x5ceb('0x0'));const assert=require(a4_0x5ceb('0x1'));const createError=require(a4_0x5ceb('0x2'));const bodyParser=require(a4_0x5ceb('0x3'));const parse=bodyParser[a4_0x5ceb('0x4')]({'extended':![]});module[a4_0x5ceb('0x5')]=(_0x56e07b,_0x12b2ed)=>{async function _0x5a71fc(_0xfb07e0,_0x12fddd){let _0x328151=await _0x56e07b['interactionDetails'](_0xfb07e0);_0x328151[a4_0x5ceb('0x6')]=process[a4_0x5ceb('0x7')][a4_0x5ceb('0x8')]||'';const _0xdd5c6a=(()=>{switch(_0x328151[a4_0x5ceb('0x9')][a4_0x5ceb('0xa')]){case'consent_prompt':case a4_0x5ceb('0xb'):return'interaction';default:return'login';}})();_0x12fddd[a4_0x5ceb('0xc')](_0xdd5c6a,{'details':_0x328151});}async function _0x487214(_0x5f3677,_0x2735a3){_0x56e07b[a4_0x5ceb('0xd')](_0x5f3677,_0x2735a3,{'consent':{}});}async function _0x1beae1(_0x1321f6,_0x502fd3,_0xe1c7c6){try{let _0x52eebd=_0x1321f6[a4_0x5ceb('0xe')][a4_0x5ceb('0xf')];assert(_0x52eebd,a4_0x5ceb('0x10'));let _0x4e51fd=await _0x12b2ed['findByEmailAndPassword'](_0x1321f6[a4_0x5ceb('0xe')]['email'],_0x1321f6[a4_0x5ceb('0xe')][a4_0x5ceb('0x11')]);if(!_0x4e51fd){throw createError(0x191,a4_0x5ceb('0x12'),{'error_description':a4_0x5ceb('0x13')});}_0x56e07b[a4_0x5ceb('0xd')](_0x1321f6,_0x502fd3,{'login':{'account':_0x4e51fd['accountId'],'acr':'1','remember':!!_0x1321f6[a4_0x5ceb('0xe')]['remember'],'ts':Math['floor'](Date[a4_0x5ceb('0x14')]()/0x3e8)},'consent':{}});}catch(_0x4c2a8f){_0xe1c7c6(_0x4c2a8f);}}let _0x505f61=express[a4_0x5ceb('0x15')]();_0x505f61[a4_0x5ceb('0x16')](a4_0x5ceb('0x17'),_0x5a71fc);_0x505f61['post'](a4_0x5ceb('0x18'),parse,_0x487214);_0x505f61[a4_0x5ceb('0x19')](a4_0x5ceb('0x1a'),parse,_0x1beae1);return{'router':_0x505f61,'getGrant':_0x5a71fc,'confirmGrant':_0x487214,'login':_0x1beae1};};
//# sourceMappingURL=interactions.js.map